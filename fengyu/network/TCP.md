https://mp.weixin.qq.com/s/tH8RFmjrveOmgLvk9hmrkw

1. 什么是TCP？谈谈读TCP的理解？
TCP是一个面向连接的、可靠的、基于字节流的传输层通信协议。

2. TCP数据报头部格式
- 源端口号和目的端口号 16bit
- 序列号 32bit 随机数 解决包乱序
- 确认应答号 32bit 解决不丢包
- SYN标识 1bit
- ACK标识 1bit
- RST标识 1bit 出现异常，强制断开连接
- FIN标识 1bit 关闭连接
- 窗口大小 16bit

数据头的结构决定了数据能做什么样的事情，能提供什么样的功能呢和机制

3. TCP的意义
IP层是不可靠的，它不保证网络数据包的交付、交付的顺序、也不保证数据的完整性。
由传输层TCP协议保证消息的可靠性

4. TCP和UDP的区别
TCP是面向连接的、可靠的传输层协议，在传输数据前需要先建立连接，并且只能提供1对1端对端的连接，通过三次握手建立连接。
UDP是面向无连接的、不保证可靠性，可以一对多、多对多的传输数据，并且不需要在传输数据前建立连接。
TCP拥有拥塞控制和流量控制机制，能保证数据传输的安全性，UDP不会因为网络情况影响自己的发送数据速率。

5. TCP三次握手和状态变迁
1）第一次握手：客户端向服务端发起连接，发送SYN报文，生成一个随机数作为客户端的序列号client_isn，SYN标志位1
2）第二次握手：服务端收到SYN报文后，生成一个随机数作为服务端序列号server_isn，把客户端的序列号client_isn + 1放入确认应答号，SYN和ACK标设置1。
3）第三次握手：客户端收到服务端ACK报文后，将服务端server_isn放入确认应答号,ACK标志设为1，发送给服务端。

前两次握手不能懈怠数据，第三次握手可以携带数据。

状态变迁：
最开始服务端和客户端都是closed状态，服务端监听指定端口进入listen状态，客户端向服务端发起连接后进入syn-sent状态(第一次握手)，服务端接受到客户端连接消息后发送应答消息后进入syn-rcvd状态(第二次握手)，客户端接受服务端应答消息发送发送确认消息后进入establistened状态，服务端接受消息后进入established状态。

6. 



7. linux里查看TCP连接状态
`netstat -natp`






